# 🗺️ 實驗路徑圖 (Experiment Roadmap)

本文件以視覺化方式呈現 23 個實驗的邏輯關係與執行路徑。

## 📊 實驗架構全景圖

```
實驗1-23 系統性消融實驗 (Ablation Study)
│
├── 🔹 階段1: 資料量影響 (實驗1-4)
│   ├── 實驗1: 1M資料 + 無SVD + KNN=20  ← 最小基線
│   ├── 實驗2: 5M資料 + 無SVD + KNN=20  ← 中等規模
│   ├── 實驗3: 10M資料 + 無SVD + KNN=20 ← 大規模
│   └── 實驗4: 20M資料 + 無SVD + KNN=20 ← 全量基線
│       │
│       ↓ 引入SVD降維
│
├── 🔹 階段2: SVD維度掃描 (實驗5-11)
│   ├── 實驗5: 20M + 無SVD + KNN=20     ← 同實驗4
│   ├── 實驗6: 20M + SVD=25 + KNN=20    ← 低維度
│   ├── 實驗7: 20M + SVD=50 + KNN=20    ← 中低維度
│   ├── 實驗8: 20M + SVD=100 + KNN=20   ← 中高維度
│   ├── 實驗9: 20M + SVD=128 + KNN=20   ← ⭐候選最優維度
│   ├── 實驗10: 20M + SVD=150 + KNN=20  ← 高維度
│   └── 實驗11: 20M + SVD=200 + KNN=20  ← 過高維度
│       │
│       ↓ 固定SVD=128，調整KNN
│
├── 🔹 階段3: KNN鄰居數掃描 (實驗12-18)
│   ├── 實驗12: 20M + SVD=128 + KNN=10  ← 少量鄰居
│   ├── 實驗13: 20M + SVD=128 + KNN=20  ← 同實驗9
│   ├── 實驗14: 20M + SVD=128 + KNN=30  ← 中等鄰居
│   ├── 實驗15: 20M + SVD=128 + KNN=40  ← 中高鄰居
│   ├── 實驗16: 20M + SVD=128 + KNN=50  ← ⭐候選最優鄰居數
│   ├── 實驗17: 20M + SVD=128 + KNN=75  ← 大量鄰居
│   └── 實驗18: 20M + SVD=128 + KNN=100 ← 過多鄰居
│       │
│       ↓ 固定最優配置，測試Item Bias
│
├── 🔹 階段4: Item Bias效果驗證 (實驗19-20)
│   ├── 實驗19: 20M + SVD=128 + KNN=50 + 無Item Bias
│   └── 實驗20: 20M + SVD=128 + KNN=50 + 有Item Bias ← ⭐⭐⭐ 最佳基線
│       │
│       ↓ 基於最佳配置，測試其他策略
│
└── 🔹 階段5: 其他優化策略 (實驗21-23)
    ├── 實驗21: 最佳配置 + 相似度放大(×2.5)
    ├── 實驗22: 最佳配置 + 時間衰減(λ=500天)   ← ⚠️ 負面結果
    └── 實驗23: 最佳配置 + TF-IDF去熱門偏差   ← ⚠️ 負面結果
```

## 🎯 關鍵決策路徑

### 決策點1：資料量 (實驗1 → 4)

```
1M資料 ──▶ 5M資料 ──▶ 10M資料 ──▶ 20M資料
  │          │          │          │
  └─── 觀察 Hit Rate 是否持續提升？ ─┘
          │
          ↓
     選擇: 20M全量資料（邊際效益最大化）
```

### 決策點2：SVD維度 (實驗5 → 11)

```
無SVD ──▶ 25維 ──▶ 50維 ──▶ 100維 ──▶ 128維 ──▶ 150維 ──▶ 200維
  │        │       │        │         │        │         │
  └─────── 尋找 Hit Rate 峰值點 ──────────────────────────┘
                                      │
                                      ↓
                              選擇: SVD=128維
                         (平衡表達力與計算效率)
```

### 決策點3：KNN鄰居數 (實驗12 → 18)

```
10鄰居 ──▶ 20鄰居 ──▶ 30鄰居 ──▶ 40鄰居 ──▶ 50鄰居 ──▶ 75鄰居 ──▶ 100鄰居
  │         │         │         │         │         │          │
  └────────── 尋找 Hit Rate 峰值點 ──────────────────────────────┘
                                          │
                                          ↓
                                   選擇: KNN=50
                              (足夠資訊，避免噪音)
```

### 決策點4：Item Bias (實驗19 → 20)

```
無Item Bias (實驗19)
  │
  ├─ Hit Rate: ?
  ├─ RMSE: ?
  │
  ↓ 比較
  │
有Item Bias (實驗20)
  │
  ├─ Hit Rate: 預期提升 8-10%
  ├─ RMSE: 預期降低 6-8%
  │
  ↓
選擇: 啟用 Item Bias
(解決冷啟動問題)
```

### 決策點5：其他策略 (實驗21-23)

```
最佳基線 (實驗20)
  │
  ├──▶ 實驗21: +相似度放大     ──▶ 預期: 與基線持平
  │                                   ↓
  ├──▶ 實驗22: +時間衰減       ──▶ 結果: ⚠️ 效果下降（負面結果）
  │                                   ↓
  └──▶ 實驗23: +TF-IDF         ──▶ 結果: ⚠️ 災難性下降（負面結果）
          │
          ↓
   最終選擇: 不採用任何額外策略
        (保持實驗20的配置)
```

## 📈 預期性能演化路徑

### Hit Rate@10 演化

```
階段1  實驗1 (1M)     ────▶ 55-58%
       實驗4 (20M)    ────▶ 60-63%  [+5%]
                              │
階段2  實驗5 (無SVD)  ────▶ 60-63%
       實驗9 (SVD=128)────▶ 62-65%  [+2%]
                              │
階段3  實驗13 (KNN=20)────▶ 62-65%
       實驗16 (KNN=50)────▶ 63-66%  [+1%]
                              │
階段4  實驗19 (無Bias)────▶ 63-66%
       實驗20 (有Bias)────▶ 66-69%  [+3%] ⭐最佳
                              │
階段5  實驗22 (時間衰減)──▶ 60-63%  [-6%] ⚠️
       實驗23 (TF-IDF)───▶ 50-55%  [-15%] ⚠️
```

### RMSE 演化

```
階段1  實驗1 (1M)     ────▶ 1.04-1.06
       實驗4 (20M)    ────▶ 1.02-1.04  [改善 2%]
                              │
階段2  實驗5 (無SVD)  ────▶ 1.02-1.04
       實驗9 (SVD=128)────▶ 1.00-1.02  [改善 2%]
                              │
階段3  實驗13 (KNN=20)────▶ 1.00-1.02
       實驗16 (KNN=50)────▶ 0.99-1.01  [改善 1%]
                              │
階段4  實驗19 (無Bias)────▶ 0.99-1.01
       實驗20 (有Bias)────▶ 0.97-0.98  [改善 3%] ⭐最佳
                              │
階段5  實驗22 (時間衰減)──▶ 1.02-1.04  [惡化 5%] ⚠️
       實驗23 (TF-IDF)───▶ 1.00-1.02  [惡化 3%] ⚠️
```

## 🔍 實驗重要性評級

### ⭐⭐⭐ 極重要（必須執行）

- **實驗1**：最小基線，所有比較的起點
- **實驗4**：全量無SVD基線，證明降維必要性
- **實驗9**：SVD=128候選最優配置
- **實驗16**：KNN=50候選最優配置
- **實驗19-20**：Item Bias對比，核心改進
- **實驗22-23**：負面結果，學術價值高

### ⭐⭐ 重要（強烈建議執行）

- **實驗2-3**：資料量梯度，展示邊際效益
- **實驗5-11**：SVD維度完整掃描
- **實驗12-18**：KNN鄰居完整掃描
- **實驗21**：相似度放大，驗證基線優秀性

### ⭐ 可選（時間充裕時執行）

- 無（所有實驗都建議執行以確保系統性完整性）

## 🎓 學術貢獻點

### 1. 系統性方法論

- **控制變因法**：每階段僅改變一個因素
- **逐步優化**：從粗糙到精細
- **完整記錄**：包含成功與失敗的案例

### 2. 負面結果的價值

- **實驗22**：證明時間衰減不適用電影推薦
- **實驗23**：揭示熱門電影在協同過濾中的雙重角色
- 展現對領域特性的深入理解

### 3. 可復現性

- 所有實驗使用相同的 `random_state=42`
- 提供完整的腳本與配置
- 記錄詳細的執行環境

## 📝 撰寫論文時的引用結構

```markdown
### 實驗設計

我們設計了5個階段共23個實驗...（引用本路徑圖）

### 結果與分析

#### 階段1發現：資料量的影響
實驗1-4顯示...（引用性能演化圖）

#### 階段2發現：SVD維度的選擇
實驗5-11顯示...（引用決策路徑）

#### 階段3發現：KNN鄰居數的平衡
實驗12-18顯示...

#### 階段4發現：Item Bias的關鍵作用
實驗19-20對比顯示...

#### 階段5發現：負面結果的學術價值
實驗22-23證明...（重點強調）

### 最優配置
基於系統性實驗，實驗20為最佳配置...
```

---

**此路徑圖可作為論文「實驗設計」章節的視覺化補充！**
