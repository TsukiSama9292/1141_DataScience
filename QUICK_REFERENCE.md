# 🔬 實驗快速參考表 (Quick Reference)

本文件提供所有 23 個實驗的快速查詢表格。

## 📋 完整實驗參數表

| 實驗 | 階段 | 資料量 | SVD維度 | KNN鄰居 | Item Bias | 特殊策略 | 腳本路徑 |
|------|------|--------|---------|---------|-----------|----------|----------|
| 實驗1 | 階段1 | 1M | ❌ 無 | 20 | ❌ | - | [test01.py](run/test01.py) |
| 實驗2 | 階段1 | 5M | ❌ 無 | 20 | ❌ | - | [test02.py](run/test02.py) |
| 實驗3 | 階段1 | 10M | ❌ 無 | 20 | ❌ | - | [test03.py](run/test03.py) |
| 實驗4 | 階段1 | 20M | ❌ 無 | 20 | ❌ | - | [test04.py](run/test04.py) |
| 實驗5 | 階段2 | 20M | ❌ 無 | 20 | ❌ | - | [test05.py](run/test05.py) |
| 實驗6 | 階段2 | 20M | 25 | 20 | ❌ | - | [test06.py](run/test06.py) |
| 實驗7 | 階段2 | 20M | 50 | 20 | ❌ | - | [test07.py](run/test07.py) |
| 實驗8 | 階段2 | 20M | 100 | 20 | ❌ | - | [test08.py](run/test08.py) |
| 實驗9 | 階段2 | 20M | 128 | 20 | ❌ | - | [test09.py](run/test09.py) |
| 實驗10 | 階段2 | 20M | 150 | 20 | ❌ | - | [test10.py](run/test10.py) |
| 實驗11 | 階段2 | 20M | 200 | 20 | ❌ | - | [test11.py](run/test11.py) |
| 實驗12 | 階段3 | 20M | 128 | 10 | ❌ | - | [test12.py](run/test12.py) |
| 實驗13 | 階段3 | 20M | 128 | 20 | ❌ | - | [test13.py](run/test13.py) |
| 實驗14 | 階段3 | 20M | 128 | 30 | ❌ | - | [test14.py](run/test14.py) |
| 實驗15 | 階段3 | 20M | 128 | 40 | ❌ | - | [test15.py](run/test15.py) |
| 實驗16 | 階段3 | 20M | 128 | 50 | ❌ | - | [test16.py](run/test16.py) |
| 實驗17 | 階段3 | 20M | 128 | 75 | ❌ | - | [test17.py](run/test17.py) |
| 實驗18 | 階段3 | 20M | 128 | 100 | ❌ | - | [test18.py](run/test18.py) |
| 實驗19 | 階段4 | 20M | 128 | 50 | ❌ | - | [test19.py](run/test19.py) |
| 實驗20 | 階段4 | 20M | 128 | 50 | ✅ | ⭐最佳基線 | [test20.py](run/test20.py) |
| 實驗21 | 階段5 | 20M | 128 | 50 | ✅ | 相似度放大×2.5 | [test21.py](run/test21.py) |
| 實驗22 | 階段5 | 20M | 128 | 50 | ❌ | ⚠️時間衰減(λ=500天) | [test22.py](run/test22.py) |
| 實驗23 | 階段5 | 20M | 128 | 50 | ❌ | ⚠️TF-IDF去熱門偏差 | [test23.py](run/test23.py) |

## 🎯 實驗目的速查

| 階段 | 實驗編號 | 核心問題 | 預期結論 |
|------|----------|----------|----------|
| **階段1** | 1-4 | 資料量如何影響效果？ | 更多資料→更好的相似度估計，但邊際效益遞減 |
| **階段2** | 5-11 | SVD最佳維度是多少？ | 128維為最優平衡點（表達力vs計算效率） |
| **階段3** | 12-18 | KNN最佳鄰居數？ | 50鄰居為最優（資訊vs噪音平衡） |
| **階段4** | 19-20 | Item Bias效果？ | 顯著提升RMSE與Hit Rate，解決冷啟動 |
| **階段5** | 21-23 | 其他策略是否有效？ | 時間衰減與TF-IDF無效（負面結果） |

## 🔑 關鍵實驗組對比

### 對比組1：資料量影響

| 實驗 | 資料量 | 預期Hit Rate | 記憶體 | 時間 |
|------|--------|--------------|--------|------|
| 實驗1 | 1M | 55-58% | 低 | 快 |
| 實驗2 | 5M | 57-60% | 中 | 中 |
| 實驗3 | 10M | 59-62% | 中高 | 中慢 |
| 實驗4 | 20M | 60-63% | 高 | 慢 |

**關鍵洞察**：資料量提升帶來Hit Rate增長，但成本也顯著上升

---

### 對比組2：SVD維度掃描

| 實驗 | SVD維度 | 預期Hit Rate | 計算複雜度 |
|------|---------|--------------|------------|
| 實驗5 | 無SVD | 60-63% | 極高 |
| 實驗6 | 25 | 58-61% | 低 |
| 實驗7 | 50 | 61-64% | 中低 |
| 實驗8 | 100 | 63-66% | 中 |
| **實驗9** | **128** | **64-67%** ⭐ | **中** |
| 實驗10 | 150 | 63-66% | 中高 |
| 實驗11 | 200 | 62-65% | 高 |

**關鍵洞察**：SVD=128為甜蜜點，過低表達力不足，過高過擬合

---

### 對比組3：KNN鄰居數掃描

| 實驗 | KNN鄰居 | 預期Hit Rate | 計算時間 |
|------|---------|--------------|----------|
| 實驗12 | 10 | 61-64% | 快 |
| 實驗13 | 20 | 64-67% | 較快 |
| 實驗14 | 30 | 65-68% | 中 |
| 實驗15 | 40 | 65-68% | 中 |
| **實驗16** | **50** | **66-69%** ⭐ | **中** |
| 實驗17 | 75 | 65-68% | 較慢 |
| 實驗18 | 100 | 64-67% | 慢 |

**關鍵洞察**：KNN=50為最優，過多鄰居引入低相似度噪音

---

### 對比組4：Item Bias效果

| 實驗 | Item Bias | 預期Hit Rate | 預期RMSE | 關鍵差異 |
|------|-----------|--------------|----------|----------|
| 實驗19 | ❌ 無 | 62-65% | 1.00-1.02 | 冷啟動失敗率高 |
| **實驗20** | **✅ 有** | **66-69%** ⭐ | **0.97-0.98** ⭐ | **解決冷啟動** |

**關鍵洞察**：簡單的Item Bias機制帶來8-10%的Hit Rate提升

---

### 對比組5：其他策略

| 實驗 | 特殊策略 | 預期Hit Rate | vs實驗20 | 結論 |
|------|----------|--------------|----------|------|
| 實驗20 | 無（基線） | 66-69% | 基準 | 最優配置 |
| 實驗21 | 相似度放大 | 66-69% | 持平 | 無顯著改善 |
| 實驗22 | 時間衰減 | 60-63% | **-6%** ⚠️ | **負面結果** |
| 實驗23 | TF-IDF | 50-55% | **-15%** ⚠️ | **災難性失敗** |

**關鍵洞察**：負面結果證明電影推薦的獨特性（長期穩定品味、熱門電影為橋樑）

---

## 📊 預期指標總覽

### Hit Rate@10 排名（預期）

| 排名 | 實驗 | 配置 | 預期Hit Rate |
|------|------|------|--------------|
| 🥇 1 | 實驗20 | 20M + SVD=128 + KNN=50 + Item Bias | 66-69% |
| 🥈 2 | 實驗21 | 實驗20 + 相似度放大 | 66-69% |
| 🥉 3 | 實驗16 | 20M + SVD=128 + KNN=50 | 65-68% |
| 4 | 實驗15/17 | 20M + SVD=128 + KNN=40/75 | 65-68% |
| 5 | 實驗9 | 20M + SVD=128 + KNN=20 | 64-67% |
| ... | ... | ... | ... |
| 22 | 實驗22 | 時間衰減 | 60-63% ⚠️ |
| 23 | 實驗23 | TF-IDF | 50-55% ⚠️ |

### RMSE 排名（預期）

| 排名 | 實驗 | 配置 | 預期RMSE |
|------|------|------|----------|
| 🥇 1 | 實驗20 | 最佳基線 + Item Bias | 0.97-0.98 |
| 🥈 2 | 實驗21 | 實驗20 + 相似度放大 | 0.97-0.98 |
| 🥉 3 | 實驗16 | 20M + SVD=128 + KNN=50 | 0.99-1.01 |
| ... | ... | ... | ... |

## 🚀 執行建議

### 快速驗證（30分鐘）

執行關鍵實驗即可驗證核心假設：

```bash
# 階段1代表
uv run python run/test01.py  # 最小基線
uv run python run/test04.py  # 全量基線

# 階段2關鍵點
uv run python run/test07.py  # SVD=50
uv run python run/test09.py  # SVD=128

# 階段3關鍵點
uv run python run/test16.py  # KNN=50

# 階段4對比
uv run python run/test19.py  # 無Item Bias
uv run python run/test20.py  # 有Item Bias（最佳）

# 階段5負面結果
uv run python run/test22.py  # 時間衰減
uv run python run/test23.py  # TF-IDF
```

### 完整執行（40-50分鐘）

```bash
uv run python main.py
```

## 📝 記錄模板

執行實驗後，建議記錄以下資訊：

```markdown
### 實驗N結果

**執行時間**: YYYY-MM-DD HH:MM
**硬體配置**: CPU型號, RAM大小

**指標**:
- Hit Rate@10: X.XXXX
- NDCG@10: X.XXXX
- RMSE: X.XXXX
- MAE: X.XXXX
- 記憶體峰值: X.X GB
- 執行時間: XX 秒

**與預期比較**:
- Hit Rate 是否在預期範圍？
- RMSE 是否達標？
- 與同階段其他實驗的差異？

**觀察與洞察**:
- （記錄任何意外或有趣的發現）
```

---

**快速參考表完成！** 可搭配 [EXPERIMENT_GUIDE.md](EXPERIMENT_GUIDE.md) 與 [EXPERIMENT_ROADMAP.md](EXPERIMENT_ROADMAP.md) 使用。
